<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>函数使用帮助文档 | SEAWeb Docs</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="icon" href="/SEAWeb_docs/favicon.png">
    <meta name="description" content="SEAWeb的帮助文档，帮助你搭建这个项目">
    
    <link rel="preload" href="/SEAWeb_docs/assets/css/0.styles.b3cd0fa7.css" as="style"><link rel="preload" href="/SEAWeb_docs/assets/js/app.04f6a961.js" as="script"><link rel="preload" href="/SEAWeb_docs/assets/js/2.60c6961f.js" as="script"><link rel="preload" href="/SEAWeb_docs/assets/js/9.98443c56.js" as="script"><link rel="prefetch" href="/SEAWeb_docs/assets/js/10.84690299.js"><link rel="prefetch" href="/SEAWeb_docs/assets/js/11.34fb1382.js"><link rel="prefetch" href="/SEAWeb_docs/assets/js/3.d46c03ff.js"><link rel="prefetch" href="/SEAWeb_docs/assets/js/4.c69c5b0e.js"><link rel="prefetch" href="/SEAWeb_docs/assets/js/5.503a829d.js"><link rel="prefetch" href="/SEAWeb_docs/assets/js/6.61e87507.js"><link rel="prefetch" href="/SEAWeb_docs/assets/js/7.a77d2d2a.js"><link rel="prefetch" href="/SEAWeb_docs/assets/js/8.62b08d47.js">
    <link rel="stylesheet" href="/SEAWeb_docs/assets/css/0.styles.b3cd0fa7.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/SEAWeb_docs/" class="home-link router-link-active"><img src="/SEAWeb_docs/favicon.png" alt="SEAWeb Docs" class="logo"> <span class="site-name can-hide">SEAWeb Docs</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/SEAWeb_docs/guide/" class="nav-link router-link-active">
  使用指南
</a></div><div class="nav-item"><a href="/SEAWeb_docs/guide/q&amp;a/" class="nav-link">
  常见问题
</a></div><div class="nav-item"><a href="/SEAWeb_docs/guide/hook/" class="nav-link">
  开发指南
</a></div><div class="nav-item"><a href="/SEAWeb_docs/guide/function/" class="nav-link">
  公用函数
</a></div> <a href="https://github.com/molanp/SEAWeb_Docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/SEAWeb_docs/guide/" class="nav-link router-link-active">
  使用指南
</a></div><div class="nav-item"><a href="/SEAWeb_docs/guide/q&amp;a/" class="nav-link">
  常见问题
</a></div><div class="nav-item"><a href="/SEAWeb_docs/guide/hook/" class="nav-link">
  开发指南
</a></div><div class="nav-item"><a href="/SEAWeb_docs/guide/function/" class="nav-link">
  公用函数
</a></div> <a href="https://github.com/molanp/SEAWeb_Docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>函数使用帮助文档</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/SEAWeb_docs/guide/function.html#re-add" class="sidebar-link">re_add</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/SEAWeb_docs/guide/function.html#参数" class="sidebar-link">参数</a></li><li class="sidebar-sub-header"><a href="/SEAWeb_docs/guide/function.html#返回值" class="sidebar-link">返回值</a></li><li class="sidebar-sub-header"><a href="/SEAWeb_docs/guide/function.html#示例" class="sidebar-link">示例</a></li></ul></li><li><a href="/SEAWeb_docs/guide/function.html#re-par" class="sidebar-link">re_par</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/SEAWeb_docs/guide/function.html#参数-2" class="sidebar-link">参数</a></li><li class="sidebar-sub-header"><a href="/SEAWeb_docs/guide/function.html#返回值-2" class="sidebar-link">返回值</a></li><li class="sidebar-sub-header"><a href="/SEAWeb_docs/guide/function.html#示例-2" class="sidebar-link">示例</a></li></ul></li><li><a href="/SEAWeb_docs/guide/function.html#curl-get" class="sidebar-link">curl_get</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/SEAWeb_docs/guide/function.html#参数-3" class="sidebar-link">参数</a></li><li class="sidebar-sub-header"><a href="/SEAWeb_docs/guide/function.html#返回值-3" class="sidebar-link">返回值</a></li><li class="sidebar-sub-header"><a href="/SEAWeb_docs/guide/function.html#示例-3" class="sidebar-link">示例</a></li></ul></li><li><a href="/SEAWeb_docs/guide/function.html#curl-post" class="sidebar-link">curl_post</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/SEAWeb_docs/guide/function.html#参数-4" class="sidebar-link">参数</a></li><li class="sidebar-sub-header"><a href="/SEAWeb_docs/guide/function.html#返回值-4" class="sidebar-link">返回值</a></li><li class="sidebar-sub-header"><a href="/SEAWeb_docs/guide/function.html#示例-4" class="sidebar-link">示例</a></li></ul></li><li><a href="/SEAWeb_docs/guide/function.html#return" class="sidebar-link">_return_</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/SEAWeb_docs/guide/function.html#参数-5" class="sidebar-link">参数</a></li><li class="sidebar-sub-header"><a href="/SEAWeb_docs/guide/function.html#返回值-5" class="sidebar-link">返回值</a></li><li class="sidebar-sub-header"><a href="/SEAWeb_docs/guide/function.html#示例-5" class="sidebar-link">示例</a></li></ul></li><li><a href="/SEAWeb_docs/guide/function.html#handle-check" class="sidebar-link">handle_check</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/SEAWeb_docs/guide/function.html#参数-6" class="sidebar-link">参数</a></li><li class="sidebar-sub-header"><a href="/SEAWeb_docs/guide/function.html#返回值-6" class="sidebar-link">返回值</a></li><li class="sidebar-sub-header"><a href="/SEAWeb_docs/guide/function.html#示例-6" class="sidebar-link">示例</a></li></ul></li><li><a href="/SEAWeb_docs/guide/function.html#find-files" class="sidebar-link">find_files</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/SEAWeb_docs/guide/function.html#参数-7" class="sidebar-link">参数</a></li><li class="sidebar-sub-header"><a href="/SEAWeb_docs/guide/function.html#返回值-7" class="sidebar-link">返回值</a></li><li class="sidebar-sub-header"><a href="/SEAWeb_docs/guide/function.html#示例-7" class="sidebar-link">示例</a></li></ul></li><li><a href="/SEAWeb_docs/guide/function.html#cache" class="sidebar-link">cache</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/SEAWeb_docs/guide/function.html#参数-8" class="sidebar-link">参数</a></li><li class="sidebar-sub-header"><a href="/SEAWeb_docs/guide/function.html#返回值-8" class="sidebar-link">返回值</a></li><li class="sidebar-sub-header"><a href="/SEAWeb_docs/guide/function.html#示例-8" class="sidebar-link">示例</a></li></ul></li><li><a href="/SEAWeb_docs/guide/function.html#del-cache" class="sidebar-link">del_cache</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/SEAWeb_docs/guide/function.html#参数-9" class="sidebar-link">参数</a></li><li class="sidebar-sub-header"><a href="/SEAWeb_docs/guide/function.html#返回值-9" class="sidebar-link">返回值</a></li><li class="sidebar-sub-header"><a href="/SEAWeb_docs/guide/function.html#示例-9" class="sidebar-link">示例</a></li></ul></li><li><a href="/SEAWeb_docs/guide/function.html#json" class="sidebar-link">json</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/SEAWeb_docs/guide/function.html#参数-10" class="sidebar-link">参数</a></li><li class="sidebar-sub-header"><a href="/SEAWeb_docs/guide/function.html#返回值-10" class="sidebar-link">返回值</a></li><li class="sidebar-sub-header"><a href="/SEAWeb_docs/guide/function.html#示例-10" class="sidebar-link">示例</a></li></ul></li><li><a href="/SEAWeb_docs/guide/function.html#requestlimit" class="sidebar-link">RequestLimit</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/SEAWeb_docs/guide/function.html#参数-11" class="sidebar-link">参数</a></li><li class="sidebar-sub-header"><a href="/SEAWeb_docs/guide/function.html#返回值-11" class="sidebar-link">返回值</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><p>目录</p> <details class="custom-block details"><summary>DETAILS</summary> <p></p><div class="table-of-contents"><ul><li><a href="#re-add">re_add</a><ul><li><a href="#参数">参数</a></li><li><a href="#返回值">返回值</a></li><li><a href="#示例">示例</a></li></ul></li><li><a href="#re-par">re_par</a><ul><li><a href="#参数">参数</a></li><li><a href="#返回值">返回值</a></li><li><a href="#示例">示例</a></li></ul></li><li><a href="#curl-get">curl_get</a><ul><li><a href="#参数">参数</a></li><li><a href="#返回值">返回值</a></li><li><a href="#示例">示例</a></li></ul></li><li><a href="#curl-post">curl_post</a><ul><li><a href="#参数">参数</a></li><li><a href="#返回值">返回值</a></li><li><a href="#示例">示例</a></li></ul></li><li><a href="#return">_return_</a><ul><li><a href="#参数">参数</a></li><li><a href="#返回值">返回值</a></li><li><a href="#示例">示例</a></li></ul></li><li><a href="#handle-check">handle_check</a><ul><li><a href="#参数">参数</a></li><li><a href="#返回值">返回值</a></li><li><a href="#示例">示例</a></li></ul></li><li><a href="#find-files">find_files</a><ul><li><a href="#参数">参数</a></li><li><a href="#返回值">返回值</a></li><li><a href="#示例">示例</a></li></ul></li><li><a href="#cache">cache</a><ul><li><a href="#参数">参数</a></li><li><a href="#返回值">返回值</a></li><li><a href="#示例">示例</a></li></ul></li><li><a href="#del-cache">del_cache</a><ul><li><a href="#参数">参数</a></li><li><a href="#返回值">返回值</a></li><li><a href="#示例">示例</a></li></ul></li><li><a href="#json">json</a><ul><li><a href="#参数">参数</a></li><li><a href="#返回值">返回值</a></li><li><a href="#示例">示例</a></li></ul></li><li><a href="#requestlimit">RequestLimit</a><ul><li><a href="#参数">参数</a></li><li><a href="#返回值">返回值</a></li></ul></li></ul></div><p></p></details> <h2 id="re-add"><a href="#re-add" class="header-anchor">#</a> <code>re_add</code></h2> <p>重新格式化参数为 Markdown 表格</p> <h3 id="参数"><a href="#参数" class="header-anchor">#</a> 参数</h3> <ul><li><code>$type</code> (array) - 请求方法数组</li> <li><code>$url</code> (array) - 请求 URL 和说明信息数组</li></ul> <h3 id="返回值"><a href="#返回值" class="header-anchor">#</a> 返回值</h3> <ul><li>(string) - 格式化后的 Markdown 表格</li></ul> <h3 id="示例"><a href="#示例" class="header-anchor">#</a> 示例</h3> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$type</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string single-quoted-string">'GET'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'POST'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token variable">$url</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string single-quoted-string">'/api/get'</span><span class="token operator">=&gt;</span><span class="token string single-quoted-string">'获取信息'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'/api/post'</span><span class="token operator">=&gt;</span><span class="token string single-quoted-string">'提交数据'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token variable">$table</span> <span class="token operator">=</span> <span class="token function">re_add</span><span class="token punctuation">(</span><span class="token variable">$type</span><span class="token punctuation">,</span> <span class="token variable">$url</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">echo</span> <span class="token variable">$table</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="re-par"><a href="#re-par" class="header-anchor">#</a> <code>re_par</code></h2> <p>重新格式化参数为 Markdown 表格</p> <h3 id="参数-2"><a href="#参数-2" class="header-anchor">#</a> 参数</h3> <ul><li><code>$key</code> (array) - 参数键和参数值数组</li></ul> <h3 id="返回值-2"><a href="#返回值-2" class="header-anchor">#</a> 返回值</h3> <ul><li>(string) - 格式化后的 Markdown 表格</li></ul> <h3 id="示例-2"><a href="#示例-2" class="header-anchor">#</a> 示例</h3> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$key</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string single-quoted-string">'id'</span><span class="token operator">=&gt;</span><span class="token string single-quoted-string">'用户id'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'name'</span><span class="token operator">=&gt;</span><span class="token string single-quoted-string">'用户名'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token variable">$table</span> <span class="token operator">=</span> <span class="token function">re_par</span><span class="token punctuation">(</span><span class="token variable">$key</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">echo</span> <span class="token variable">$table</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="curl-get"><a href="#curl-get" class="header-anchor">#</a> <code>curl_get</code></h2> <p>使用 CURL 发起 GET 请求获取数据</p> <h3 id="参数-3"><a href="#参数-3" class="header-anchor">#</a> 参数</h3> <ul><li><code>$url</code> (string) - 请求的 URL</li> <li><code>$data</code> (array) - 请求参数，可选，默认为空数组</li> <li><code>$cookie</code> (array) - 携带的cookie</li> <li><code>$header</code> (array) - 自定义请求标头</li></ul> <h3 id="返回值-3"><a href="#返回值-3" class="header-anchor">#</a> 返回值</h3> <ul><li>(mixed) - 请求结果，如果发生错误，则返回错误信息</li></ul> <h3 id="示例-3"><a href="#示例-3" class="header-anchor">#</a> 示例</h3> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$url</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'https://api.example.com/data'</span><span class="token punctuation">;</span>
<span class="token variable">$data</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string single-quoted-string">'id'</span> <span class="token operator">=&gt;</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token variable">$result</span> <span class="token operator">=</span> <span class="token function">curl_get</span><span class="token punctuation">(</span><span class="token variable">$url</span><span class="token punctuation">,</span> <span class="token variable">$data</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">print_r</span><span class="token punctuation">(</span><span class="token variable">$result</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="curl-post"><a href="#curl-post" class="header-anchor">#</a> <code>curl_post</code></h2> <p>使用 CURL 发起 POST 请求获取数据</p> <h3 id="参数-4"><a href="#参数-4" class="header-anchor">#</a> 参数</h3> <ul><li><code>$url</code> (string) - 请求的 URL</li> <li><code>$data</code> (array) - 请求参数，可选，默认为空数组</li> <li><code>$cookie</code> (array) - 携带的cookie</li> <li><code>$header</code> (array) - 自定义请求标头</li></ul> <h3 id="返回值-4"><a href="#返回值-4" class="header-anchor">#</a> 返回值</h3> <ul><li>(mixed) - 请求结果，如果发生错误，则返回错误信息</li></ul> <h3 id="示例-4"><a href="#示例-4" class="header-anchor">#</a> 示例</h3> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$url</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'https://api.example.com/data'</span><span class="token punctuation">;</span>
<span class="token variable">$data</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string single-quoted-string">'id'</span> <span class="token operator">=&gt;</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token variable">$result</span> <span class="token operator">=</span> <span class="token function">curl_get</span><span class="token punctuation">(</span><span class="token variable">$url</span><span class="token punctuation">,</span> <span class="token variable">$data</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">print_r</span><span class="token punctuation">(</span><span class="token variable">$result</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="return"><a href="#return" class="header-anchor">#</a> <code>_return_</code></h2> <p>返回结果</p> <h3 id="参数-5"><a href="#参数-5" class="header-anchor">#</a> 参数</h3> <ul><li><code>$content</code> (mixed) - 返回的数据内容</li> <li><code>$status</code> (int) - 状态码，可选，默认为 200</li> <li><code>$location</code> (bool|string) - 是否重定向，可选，默认为<code>false</code>如果为字符串，则表示重定向的 URL</li></ul> <h3 id="返回值-5"><a href="#返回值-5" class="header-anchor">#</a> 返回值</h3> <ul><li>无</li></ul> <h3 id="示例-5"><a href="#示例-5" class="header-anchor">#</a> 示例</h3> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$content</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string single-quoted-string">'message'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'请求成功'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token variable">$status</span> <span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">;</span>
<span class="token variable">$location</span> <span class="token operator">=</span> <span class="token constant boolean">false</span><span class="token punctuation">;</span>

<span class="token function">_return_</span><span class="token punctuation">(</span><span class="token variable">$context</span><span class="token punctuation">,</span> <span class="token variable">$status</span><span class="token punctuation">,</span> <span class="token variable">$location</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="handle-check"><a href="#handle-check" class="header-anchor">#</a> <code>handle_check</code></h2> <p>检查 API 状态</p> <h3 id="参数-6"><a href="#参数-6" class="header-anchor">#</a> 参数</h3> <ul><li><code>$name</code> (string) 插件名称</li></ul> <h3 id="返回值-6"><a href="#返回值-6" class="header-anchor">#</a> 返回值</h3> <ul><li>(bool) - 是否需要处理 API 请求</li></ul> <h3 id="示例-6"><a href="#示例-6" class="header-anchor">#</a> 示例</h3> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">handle_check</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 处理 API 请求</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token comment">// 不处理 API 请求</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="find-files"><a href="#find-files" class="header-anchor">#</a> <code>find_files</code></h2> <p>递归查询文件</p> <h3 id="参数-7"><a href="#参数-7" class="header-anchor">#</a> 参数</h3> <ul><li><code>$dir</code> (string) - 目录路径</li> <li><code>$file</code> (string) - 需要查询的文件名，支持匹配文件末尾字符查询，默认为<code>.php</code></li> <li><code>$prefix</code> (string) - 前缀，可选，默认为空字符串</li></ul> <h3 id="返回值-7"><a href="#返回值-7" class="header-anchor">#</a> 返回值</h3> <ul><li>(array) - 文件的相对路径数组</li></ul> <h3 id="示例-7"><a href="#示例-7" class="header-anchor">#</a> 示例</h3> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$dir</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'/path/to/directory'</span><span class="token punctuation">;</span>
<span class="token variable">$prefix</span> <span class="token operator">=</span> <span class="token string single-quoted-string">''</span><span class="token punctuation">;</span>
<span class="token variable">$file</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'.php'</span><span class="token punctuation">;</span>
<span class="token comment"># 查找$dir内的.php结尾的文件</span>
<span class="token variable">$files</span> <span class="token operator">=</span> <span class="token function">find_files</span><span class="token punctuation">(</span><span class="token variable">$dir</span><span class="token punctuation">,</span> <span class="token variable">$file</span><span class="token punctuation">,</span> <span class="token variable">$prefix</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">print_r</span><span class="token punctuation">(</span><span class="token variable">$files</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="cache"><a href="#cache" class="header-anchor">#</a> <code>cache</code></h2> <p>缓存函数</p> <h3 id="参数-8"><a href="#参数-8" class="header-anchor">#</a> 参数</h3> <ul><li><code>$name</code> (string) - 缓存文件名，包含目录路径(可选)和文件名，例如：cc/test</li> <li><code>$data</code> (mixed) - 缓存数据</li></ul> <h3 id="返回值-8"><a href="#返回值-8" class="header-anchor">#</a> 返回值</h3> <ul><li>(mixed) - 返回缓存数据（如果存在且未过期），否则返回 null</li></ul> <h3 id="示例-8"><a href="#示例-8" class="header-anchor">#</a> 示例</h3> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$name</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'data'</span><span class="token punctuation">;</span>
<span class="token variable">$data</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string single-quoted-string">'message'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'缓存数据'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token variable">$result</span> <span class="token operator">=</span> <span class="token function">cache</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">,</span> <span class="token variable">$data</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">print_r</span><span class="token punctuation">(</span><span class="token variable">$result</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//文件被缓存到网站根目录/cache/data文件</span>
</code></pre></div><h2 id="del-cache"><a href="#del-cache" class="header-anchor">#</a> <code>del_cache</code></h2> <p>删除指定的缓存文件或文件夹</p> <h3 id="参数-9"><a href="#参数-9" class="header-anchor">#</a> 参数</h3> <ul><li><code>$name</code> (string) - 要删除的缓存文件或文件夹的名称</li></ul> <h3 id="返回值-9"><a href="#返回值-9" class="header-anchor">#</a> 返回值</h3> <ul><li>(bool) - 删除成功返回 true，删除失败返回 false</li></ul> <h3 id="示例-9"><a href="#示例-9" class="header-anchor">#</a> 示例</h3> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$name</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'data'</span><span class="token punctuation">;</span>

<span class="token variable">$result</span> <span class="token operator">=</span> <span class="token function">del_cache</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">echo</span> <span class="token variable">$result</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="json"><a href="#json" class="header-anchor">#</a> <code>json</code></h2> <p>尝试将 JSON 字符串解析为数组，或将数组转换为 JSON 字符串</p> <h3 id="参数-10"><a href="#参数-10" class="header-anchor">#</a> 参数</h3> <ul><li><code>$json</code> (string|array) - 要解析的 JSON 字符串或要转换的数组</li></ul> <h3 id="返回值-10"><a href="#返回值-10" class="header-anchor">#</a> 返回值</h3> <ul><li>(array|string) - 解析后的数组或数组转换后的 JSON 字符串，如果解码和编码都失败则返回原始字符串</li></ul> <h3 id="示例-10"><a href="#示例-10" class="header-anchor">#</a> 示例</h3> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$json</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'{&quot;message&quot;: &quot;Hello, world!&quot;}'</span><span class="token punctuation">;</span>

<span class="token variable">$result</span> <span class="token operator">=</span> <span class="token function">json</span><span class="token punctuation">(</span><span class="token variable">$json</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">print_r</span><span class="token punctuation">(</span><span class="token variable">$result</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="requestlimit"><a href="#requestlimit" class="header-anchor">#</a> <code>RequestLimit</code></h2> <p>检查请求次数是否超过限制</p> <p>此函数应在 handle_check() 后执行</p> <h3 id="参数-11"><a href="#参数-11" class="header-anchor">#</a> 参数</h3> <ul><li><code>$limit</code> (string) - 最大请求次数和时间单位，例如 '3/s' '10/min', '5/hour', '100/day'</li> <li><code>$name</code> (string) - 如果引用文件中没有$api_name变量，请在此处自定义标识符</li></ul> <h3 id="返回值-11"><a href="#返回值-11" class="header-anchor">#</a> 返回值</h3> <ul><li>若请求超过设定上限，自动结束该脚本</li></ul></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/molanp/SEAWeb_Docs/edit/master/guide/function.md" target="_blank" rel="noopener noreferrer">在 GitHub 上编辑此页 ！</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/SEAWeb_docs/guide/hook.html" class="prev">
        开发指南
      </a></span> <!----></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/SEAWeb_docs/assets/js/app.04f6a961.js" defer></script><script src="/SEAWeb_docs/assets/js/2.60c6961f.js" defer></script><script src="/SEAWeb_docs/assets/js/9.98443c56.js" defer></script>
  </body>
</html>
