(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{286:function(t,s,a){"use strict";a.r(s);var e=a(10),r=Object(e.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"requests-类"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#requests-类"}},[t._v("#")]),t._v(" "),s("code",[t._v("requests")]),t._v(" 类")]),t._v(" "),s("p",[s("code",[t._v("requests")]),t._v(" 类提供了发送不同类型的 HTTP 请求的方法，并返回响应对象。")]),t._v(" "),s("h3",{attrs:{id:"方法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#方法"}},[t._v("#")]),t._v(" 方法")]),t._v(" "),s("h4",{attrs:{id:"get-url-data-cookie-header"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#get-url-data-cookie-header"}},[t._v("#")]),t._v(" "),s("code",[t._v("get($url, $data=[], $cookie=[], $header=[])")])]),t._v(" "),s("p",[t._v("发送 GET 请求并返回响应对象。")]),t._v(" "),s("p",[t._v("参数：")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("$url")]),t._v(" (string) - 请求的 URL。")]),t._v(" "),s("li",[s("code",[t._v("$data")]),t._v(" (array) - 请求的查询参数，默认为空数组。")]),t._v(" "),s("li",[s("code",[t._v("$cookie")]),t._v(" (array) - 请求的 Cookie，默认为空数组。")]),t._v(" "),s("li",[s("code",[t._v("$header")]),t._v(" (array) - 请求的头部信息，默认为空数组。")])]),t._v(" "),s("p",[t._v("返回值：")]),t._v(" "),s("ul",[s("li",[t._v("(Response) - 响应对象。")])]),t._v(" "),s("h4",{attrs:{id:"post-url-data-cookie-header"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#post-url-data-cookie-header"}},[t._v("#")]),t._v(" "),s("code",[t._v("post($url, $data=[], $cookie=[], $header=[])")])]),t._v(" "),s("p",[t._v("发送 POST 请求并返回响应对象。")]),t._v(" "),s("p",[t._v("参数：")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("$url")]),t._v(" (string) - 请求的 URL。")]),t._v(" "),s("li",[s("code",[t._v("$data")]),t._v(" (array) - 请求的表单数据，默认为空数组。")]),t._v(" "),s("li",[s("code",[t._v("$cookie")]),t._v(" (array) - 请求的 Cookie，默认为空数组。")]),t._v(" "),s("li",[s("code",[t._v("$header")]),t._v(" (array) - 请求的头部信息，默认为空数组。")])]),t._v(" "),s("p",[t._v("返回值：")]),t._v(" "),s("ul",[s("li",[t._v("(Response) - 响应对象。")])]),t._v(" "),s("h4",{attrs:{id:"其他-http-请求方法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#其他-http-请求方法"}},[t._v("#")]),t._v(" 其他 HTTP 请求方法")]),t._v(" "),s("p",[s("code",[t._v("requests")]),t._v(" 类还提供了以下其他 HTTP 请求方法："),s("code",[t._v("put()")]),t._v(", "),s("code",[t._v("delete()")]),t._v(", "),s("code",[t._v("patch()")]),t._v(", "),s("code",[t._v("head()")]),t._v(", "),s("code",[t._v("connect()")]),t._v(", "),s("code",[t._v("trace()")]),t._v(", "),s("code",[t._v("options()")]),t._v("。这些方法的参数和返回值与上述方法相同。")]),t._v(" "),s("h3",{attrs:{id:"响应对象-response"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#响应对象-response"}},[t._v("#")]),t._v(" 响应对象 (Response)")]),t._v(" "),s("p",[s("code",[t._v("Response")]),t._v(" 对象封装了 HTTP 响应的相关信息和方法。")]),t._v(" "),s("h4",{attrs:{id:"方法-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#方法-2"}},[t._v("#")]),t._v(" 方法")]),t._v(" "),s("h5",{attrs:{id:"json"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#json"}},[t._v("#")]),t._v(" "),s("code",[t._v("json()")])]),t._v(" "),s("p",[t._v("将响应体解析为 JSON 格式，并返回解析后的数组或字符串。")]),t._v(" "),s("p",[t._v("返回值：")]),t._v(" "),s("ul",[s("li",[t._v("(mixed) - 解析后的 JSON 数据。")])]),t._v(" "),s("h5",{attrs:{id:"text"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#text"}},[t._v("#")]),t._v(" "),s("code",[t._v("text()")])]),t._v(" "),s("p",[t._v("返回原始的响应体内容。")]),t._v(" "),s("p",[t._v("返回值：")]),t._v(" "),s("ul",[s("li",[t._v("(string) - 原始的响应体内容。")])]),t._v(" "),s("h5",{attrs:{id:"code"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#code"}},[t._v("#")]),t._v(" "),s("code",[t._v("code()")])]),t._v(" "),s("p",[t._v("返回响应的 HTTP 状态码。")]),t._v(" "),s("p",[t._v("返回值：")]),t._v(" "),s("ul",[s("li",[t._v("(int) - 响应的 HTTP 状态码。")])]),t._v(" "),s("h5",{attrs:{id:"headers"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#headers"}},[t._v("#")]),t._v(" "),s("code",[t._v("headers()")])]),t._v(" "),s("p",[t._v("返回响应的头部信息数组。")]),t._v(" "),s("p",[t._v("返回值：")]),t._v(" "),s("ul",[s("li",[t._v("(array) - 响应的头部信息数组。")])]),t._v(" "),s("h3",{attrs:{id:"使用示例"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用示例"}},[t._v("#")]),t._v(" 使用示例")]),t._v(" "),s("p",[t._v("此实例已自动创建并初始化到全局常量"),s("code",[t._v("requests")]),t._v("，无需在插件内初始化\n若需要重复初始化，使用代码")]),t._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("include_once")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$_SERVER")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'DOCUMENT_ROOT'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'/services/requests.php'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$requests")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("requests")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{pre:!0,attrs:{class:"token php language-php"}},[s("span",{pre:!0,attrs:{class:"token delimiter important"}},[t._v("<?php")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 发送 GET 请求并获取响应的文本内容")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$response")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" requests"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string double-quoted-string"}},[t._v('"https://example.com"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("echo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$response")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("text")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 输出响应的文本内容")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 发送 GET 请求并将响应解析为 JSON 格式")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$response")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" requests"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string double-quoted-string"}},[t._v('"https://example.com/api"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$data")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$response")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("json")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 解析 JSON 响应")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("print_r")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$data")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 输出解析后的 JSON 数据")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 发送 GET 请求并获取响应的状态码")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$response")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" requests"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string double-quoted-string"}},[t._v('"https://example.com"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$code")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$response")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("code")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 获取响应的状态码")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("echo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$code")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 输出响应的状态码")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 发送 GET 请求并获取响应的头部信息")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$response")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" requests"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string double-quoted-string"}},[t._v('"https://example.com"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$headers")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$response")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("headers")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 获取响应的头部信息")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("print_r")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$headers")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 输出响应的头部信息")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token delimiter important"}},[t._v("?>")])]),t._v("\n")])])])])}),[],!1,null,null,null);s.default=r.exports}}]);