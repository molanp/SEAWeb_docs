(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{284:function(t,a,s){"use strict";s.r(a);var r=s(10),e=Object(r.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("p",[t._v("目录")]),t._v(" "),a("details",{staticClass:"custom-block details"},[a("summary",[t._v("DETAILS")]),t._v(" "),a("p"),a("div",{staticClass:"table-of-contents"},[a("ul",[a("li",[a("a",{attrs:{href:"#网络请求方法-guide-requests"}},[t._v("网络请求方法")])]),a("li",[a("a",{attrs:{href:"#re-add"}},[t._v("re_add")]),a("ul",[a("li",[a("a",{attrs:{href:"#参数"}},[t._v("参数")])]),a("li",[a("a",{attrs:{href:"#返回值"}},[t._v("返回值")])]),a("li",[a("a",{attrs:{href:"#示例"}},[t._v("示例")])])])]),a("li",[a("a",{attrs:{href:"#re-par"}},[t._v("re_par")]),a("ul",[a("li",[a("a",{attrs:{href:"#参数"}},[t._v("参数")])]),a("li",[a("a",{attrs:{href:"#返回值"}},[t._v("返回值")])]),a("li",[a("a",{attrs:{href:"#示例"}},[t._v("示例")])])])]),a("li",[a("a",{attrs:{href:"#return"}},[t._v("_return_")]),a("ul",[a("li",[a("a",{attrs:{href:"#参数"}},[t._v("参数")])]),a("li",[a("a",{attrs:{href:"#返回值"}},[t._v("返回值")])]),a("li",[a("a",{attrs:{href:"#示例"}},[t._v("示例")])])])]),a("li",[a("a",{attrs:{href:"#handle-check"}},[t._v("handle_check")]),a("ul",[a("li",[a("a",{attrs:{href:"#参数"}},[t._v("参数")])]),a("li",[a("a",{attrs:{href:"#返回值"}},[t._v("返回值")])]),a("li",[a("a",{attrs:{href:"#示例"}},[t._v("示例")])])])]),a("li",[a("a",{attrs:{href:"#find-files"}},[t._v("find_files")]),a("ul",[a("li",[a("a",{attrs:{href:"#参数"}},[t._v("参数")])]),a("li",[a("a",{attrs:{href:"#返回值"}},[t._v("返回值")])]),a("li",[a("a",{attrs:{href:"#示例"}},[t._v("示例")])])])]),a("li",[a("a",{attrs:{href:"#json"}},[t._v("json")]),a("ul",[a("li",[a("a",{attrs:{href:"#参数"}},[t._v("参数")])]),a("li",[a("a",{attrs:{href:"#返回值"}},[t._v("返回值")])]),a("li",[a("a",{attrs:{href:"#示例"}},[t._v("示例")])])])]),a("li",[a("a",{attrs:{href:"#requestlimit"}},[t._v("RequestLimit")]),a("ul",[a("li",[a("a",{attrs:{href:"#参数"}},[t._v("参数")])]),a("li",[a("a",{attrs:{href:"#返回值"}},[t._v("返回值")])])])]),a("li",[a("a",{attrs:{href:"#addslashifneeded"}},[t._v("addSlashIfNeeded")]),a("ul",[a("li",[a("a",{attrs:{href:"#参数"}},[t._v("参数")])]),a("li",[a("a",{attrs:{href:"#返回值"}},[t._v("返回值")])]),a("li",[a("a",{attrs:{href:"#示例"}},[t._v("示例")])])])]),a("li",[a("a",{attrs:{href:"#logger-类"}},[t._v("logger 类")]),a("ul",[a("li",[a("a",{attrs:{href:"#方法"}},[t._v("方法")])]),a("li",[a("a",{attrs:{href:"#示例"}},[t._v("示例")])])])])])]),a("p")]),t._v(" "),a("h2",{attrs:{id:"网络请求方法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#网络请求方法"}},[t._v("#")]),t._v(" "),a("RouterLink",{attrs:{to:"/guide/requests/"}},[t._v("网络请求方法")])],1),t._v(" "),a("h1",{attrs:{id:"一切以services-until-php文件及其注释为准"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一切以services-until-php文件及其注释为准"}},[t._v("#")]),t._v(" 一切以"),a("code",[t._v("services/until.php")]),t._v("文件及其注释为准")]),t._v(" "),a("h2",{attrs:{id:"re-add"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#re-add"}},[t._v("#")]),t._v(" "),a("code",[t._v("re_add")])]),t._v(" "),a("p",[t._v("重新格式化参数为 Markdown 表格")]),t._v(" "),a("h3",{attrs:{id:"参数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#参数"}},[t._v("#")]),t._v(" 参数")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("$type")]),t._v(" (array) - 请求方法数组")]),t._v(" "),a("li",[a("code",[t._v("$url")]),t._v(" (array) - 请求 URL 和说明信息数组")])]),t._v(" "),a("h3",{attrs:{id:"返回值"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#返回值"}},[t._v("#")]),t._v(" 返回值")]),t._v(" "),a("ul",[a("li",[t._v("(string) - 格式化后的 Markdown 表格")])]),t._v(" "),a("h3",{attrs:{id:"示例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#示例"}},[t._v("#")]),t._v(" 示例")]),t._v(" "),a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$type")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'GET'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'POST'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$url")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'/api/get'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'获取信息'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'/api/post'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'提交数据'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$table")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("re_add")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$url")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$table")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("h2",{attrs:{id:"re-par"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#re-par"}},[t._v("#")]),t._v(" "),a("code",[t._v("re_par")])]),t._v(" "),a("p",[t._v("重新格式化参数为 Markdown 表格")]),t._v(" "),a("h3",{attrs:{id:"参数-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#参数-2"}},[t._v("#")]),t._v(" 参数")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("$key")]),t._v(" (array) - 参数键和参数值数组")])]),t._v(" "),a("h3",{attrs:{id:"返回值-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#返回值-2"}},[t._v("#")]),t._v(" 返回值")]),t._v(" "),a("ul",[a("li",[t._v("(string) - 格式化后的 Markdown 表格")])]),t._v(" "),a("h3",{attrs:{id:"示例-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#示例-2"}},[t._v("#")]),t._v(" 示例")]),t._v(" "),a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$key")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'id'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'用户id'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'name'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'用户名'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$table")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("re_par")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$key")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$table")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("h2",{attrs:{id:"return"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#return"}},[t._v("#")]),t._v(" "),a("code",[t._v("_return_")])]),t._v(" "),a("p",[t._v("返回结果")]),t._v(" "),a("h3",{attrs:{id:"参数-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#参数-3"}},[t._v("#")]),t._v(" 参数")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("$content")]),t._v(" (mixed) - 返回的数据内容")]),t._v(" "),a("li",[a("code",[t._v("$status")]),t._v(" (int) - 状态码，可选，默认为 200")])]),t._v(" "),a("h3",{attrs:{id:"返回值-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#返回值-3"}},[t._v("#")]),t._v(" 返回值")]),t._v(" "),a("ul",[a("li",[t._v("无")])]),t._v(" "),a("h3",{attrs:{id:"示例-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#示例-3"}},[t._v("#")]),t._v(" 示例")]),t._v(" "),a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$content")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'message'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'请求成功'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$status")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("200")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$location")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("_return_")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$context")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$status")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$location")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("h2",{attrs:{id:"handle-check"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#handle-check"}},[t._v("#")]),t._v(" "),a("code",[t._v("handle_check")])]),t._v(" "),a("p",[t._v("检查 API 状态")]),t._v(" "),a("h3",{attrs:{id:"参数-4"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#参数-4"}},[t._v("#")]),t._v(" 参数")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("$name")]),t._v(" (string) 插件名称")])]),t._v(" "),a("h3",{attrs:{id:"返回值-4"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#返回值-4"}},[t._v("#")]),t._v(" 返回值")]),t._v(" "),a("ul",[a("li",[t._v("(bool) - 是否需要处理 API 请求")])]),t._v(" "),a("h3",{attrs:{id:"示例-4"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#示例-4"}},[t._v("#")]),t._v(" 示例")]),t._v(" "),a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("handle_check")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 处理 API 请求")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 不处理 API 请求")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h2",{attrs:{id:"find-files"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#find-files"}},[t._v("#")]),t._v(" "),a("code",[t._v("find_files")])]),t._v(" "),a("p",[t._v("递归查询文件")]),t._v(" "),a("h3",{attrs:{id:"参数-5"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#参数-5"}},[t._v("#")]),t._v(" 参数")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("$dir")]),t._v(" (string) - 目录路径")]),t._v(" "),a("li",[a("code",[t._v("$file")]),t._v(" (string) - 需要查询的文件名，支持匹配文件末尾字符查询，默认为"),a("code",[t._v(".php")])]),t._v(" "),a("li",[a("code",[t._v("$prefix")]),t._v(" (string) - 前缀，可选，默认为空字符串")])]),t._v(" "),a("h3",{attrs:{id:"返回值-5"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#返回值-5"}},[t._v("#")]),t._v(" 返回值")]),t._v(" "),a("ul",[a("li",[t._v("(array) - 文件的相对路径数组")])]),t._v(" "),a("h3",{attrs:{id:"示例-5"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#示例-5"}},[t._v("#")]),t._v(" 示例")]),t._v(" "),a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$dir")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'/path/to/directory'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$prefix")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$file")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'.php'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 查找$dir内的.php结尾的文件")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$files")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("find_files")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$dir")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$file")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$prefix")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("print_r")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$files")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("h2",{attrs:{id:"json"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#json"}},[t._v("#")]),t._v(" "),a("code",[t._v("json")])]),t._v(" "),a("p",[t._v("尝试将 JSON 字符串解析为数组，或将数组转换为 JSON 字符串")]),t._v(" "),a("h3",{attrs:{id:"参数-6"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#参数-6"}},[t._v("#")]),t._v(" 参数")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("$json")]),t._v(" (string|array) - 要解析的 JSON 字符串或要转换的数组")])]),t._v(" "),a("h3",{attrs:{id:"返回值-6"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#返回值-6"}},[t._v("#")]),t._v(" 返回值")]),t._v(" "),a("ul",[a("li",[t._v("(array|string) - 解析后的数组或数组转换后的 JSON 字符串，如果解码和编码都失败则返回原始字符串")])]),t._v(" "),a("h3",{attrs:{id:"示例-6"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#示例-6"}},[t._v("#")]),t._v(" 示例")]),t._v(" "),a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$json")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v('\'{"message": "Hello, world!"}\'')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$result")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("json")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$json")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("print_r")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$result")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("h2",{attrs:{id:"requestlimit"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#requestlimit"}},[t._v("#")]),t._v(" "),a("code",[t._v("RequestLimit")])]),t._v(" "),a("p",[t._v("检查请求次数是否超过限制")]),t._v(" "),a("p",[a("s",[t._v("[插件开发者无需阅读此句]此函数应在 handle_check() 后执行")])]),t._v(" "),a("h3",{attrs:{id:"参数-7"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#参数-7"}},[t._v("#")]),t._v(" 参数")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("$limit")]),t._v(" (string) - 最大请求次数和时间单位，例如 '3/s' '10/min', '5/hour', '100/day'")])]),t._v(" "),a("h3",{attrs:{id:"返回值-7"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#返回值-7"}},[t._v("#")]),t._v(" 返回值")]),t._v(" "),a("ul",[a("li",[t._v("若请求超过设定上限，自动结束该脚本")])]),t._v(" "),a("h2",{attrs:{id:"addslashifneeded"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#addslashifneeded"}},[t._v("#")]),t._v(" "),a("code",[t._v("addSlashIfNeeded")])]),t._v(" "),a("p",[t._v('在给定的字符串开头或末尾添加斜杠("/")，如果它尚未以斜杠结尾。')]),t._v(" "),a("h3",{attrs:{id:"参数-8"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#参数-8"}},[t._v("#")]),t._v(" 参数")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("$inputString")]),t._v(" (string) 要处理的字符串")])]),t._v(" "),a("h3",{attrs:{id:"返回值-8"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#返回值-8"}},[t._v("#")]),t._v(" 返回值")]),t._v(" "),a("ul",[a("li",[t._v("(string) 处理后的字符串，确保以斜杠结尾")])]),t._v(" "),a("h3",{attrs:{id:"示例-7"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#示例-7"}},[t._v("#")]),t._v(" 示例")]),t._v(" "),a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$a")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addSlashIfNeeded")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'/example'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$a")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# /example/")]),t._v("\n")])])]),a("h2",{attrs:{id:"logger-类"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#logger-类"}},[t._v("#")]),t._v(" "),a("code",[t._v("logger")]),t._v(" 类")]),t._v(" "),a("p",[t._v("一个用于日志记录的类，支持 "),a("code",[t._v("info")]),t._v("、"),a("code",[t._v("warn")]),t._v("、"),a("code",[t._v("debug")]),t._v(" 和 "),a("code",[t._v("error")]),t._v(" 四种级别的日志记录。")]),t._v(" "),a("h3",{attrs:{id:"方法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#方法"}},[t._v("#")]),t._v(" 方法")]),t._v(" "),a("h4",{attrs:{id:"info-str"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#info-str"}},[t._v("#")]),t._v(" info($str)")]),t._v(" "),a("p",[t._v("记录 "),a("code",[t._v("info")]),t._v(" 级别的日志。")]),t._v(" "),a("ul",[a("li",[t._v("参数:\n"),a("ul",[a("li",[a("code",[t._v("$str")]),t._v(" (string) - 要记录的日志内容")])])])]),t._v(" "),a("h4",{attrs:{id:"warn-str"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#warn-str"}},[t._v("#")]),t._v(" warn($str)")]),t._v(" "),a("p",[t._v("记录 "),a("code",[t._v("warn")]),t._v(" 级别的日志。")]),t._v(" "),a("ul",[a("li",[t._v("参数:\n"),a("ul",[a("li",[a("code",[t._v("$str")]),t._v(" (string) - 要记录的日志内容")])])])]),t._v(" "),a("h4",{attrs:{id:"debug-str"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#debug-str"}},[t._v("#")]),t._v(" debug($str)")]),t._v(" "),a("p",[t._v("记录 "),a("code",[t._v("debug")]),t._v(" 级别的日志。")]),t._v(" "),a("ul",[a("li",[t._v("参数:\n"),a("ul",[a("li",[a("code",[t._v("$str")]),t._v(" (string) - 要记录的日志内容")])])])]),t._v(" "),a("h4",{attrs:{id:"error-str"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#error-str"}},[t._v("#")]),t._v(" error($str)")]),t._v(" "),a("p",[t._v("记录 "),a("code",[t._v("error")]),t._v(" 级别的日志。")]),t._v(" "),a("ul",[a("li",[t._v("参数:\n"),a("ul",[a("li",[a("code",[t._v("$str")]),t._v(" (string) - 要记录的日志内容")])])])]),t._v(" "),a("h3",{attrs:{id:"示例-8"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#示例-8"}},[t._v("#")]),t._v(" 示例")]),t._v(" "),a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$log")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("logger")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$log")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("info")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string double-quoted-string"}},[t._v('"这是一条 info 级别的日志"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$log")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("warn")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string double-quoted-string"}},[t._v('"这是一条 warn 级别的日志"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$log")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("debug")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string double-quoted-string"}},[t._v('"这是一条 debug 级别的日志"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$log")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("error")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string double-quoted-string"}},[t._v('"这是一条 error 级别的日志"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])])}),[],!1,null,null,null);a.default=e.exports}}]);